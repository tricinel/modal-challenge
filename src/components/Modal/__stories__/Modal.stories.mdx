import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { ArgsTable } from '@storybook/addon-docs/blocks';
import Modal from '../Modal';

<Meta
  title="Components/Modal/Docs"
  component={Modal}
/>

# Modal

The `<Modal />` represents a separate window with either contextual information or specific tasks the user needs to follow. They appear over the user interface. They are meant to enhance usability by focusing attention on a specific message that requires a user action to continue.

> Modals should be used sparingly because they disrupt the flow of what the user is doing when they are not in control of opening the modal.

Install: `yarn add '@modal/modal`

Usage: `import Button from '@modal/modal';`

## Required properties

The `<Modal />` component has minimal requirements to be configured. A few stand out in terms of accesibility.

* The `title` property will both provide a visible title in the `<ModalHeader />` (unless overwritten by it) and also label the modal for assistive technologies using the `aria-label` attribute.
* The `priority` property will determine which role the `<Modal />` should have. A `polite` setting will cause it to have `role="dialog"`, while a setting of `assertive` will turn it into `role="alertdialog"`. The difference between the two is subtle, but worth noting. An `alertdialog` should be used to notify the user of urgent information they need to act on (most destructive actions will use this). A `dialog` on the other hand can be used to let them know of something they've done or that is about to happen (most information actions will use this). By default, `<Modal />` has the `polite` setting and, as such, the `dialog` role.
* The `closeOnEscape` property will listen for the user pressing the `Escape` key and dismiss the modal if it's enabled **and** if the user is not currently typing in a field.
* The `closeOnClickOutside` property will listen for the user clicking outside the modal and dismiss it if it's enabled.

## Content

The content of a `<Modal />` is controlled completely by passing children to it. While you can generally create any sort of content you want for your modals, to make things much easier, `<Modal />` comes out of the box with a few sub components that will make sure everything is visually styled and placed in the correct place inside the modal.

* The `<ModalHeader />` will create a header for your modal, including a title and an optional close icon.
* The `<ModalBody />` represents the main section of your modal is meant to contain all the content. Any piece of text, forms and other content such as images should go in here.
* The `<ModalActions />` represents a section of the footer within a modal and is meant to contain any primary actions for the user.
* The `<ModalLinks />` represents a section of the footer within a modal and is meant to contain any secondary actions for the user.

### Example

The general structure of the `<Modal />` will look like this:

```jsx
<Modal>
  <ModalHeader />
  <ModalBody />
  <ModalLinks />
  <ModalActions />
</Modal>
```

> When using the provided subcomponents, the order does not matter in terms of how they are visually placed on the page. However, from a logical markup point of view, the above is the recommended order.

## Focus management

Focus is automatically trapped inside the modal and the focus goes to the first element in its tab order. It's important to note that the `<Modal />` must have at least one container with at least one tabbable node in it at all times.

> The next version should allow the developers to customise where the modal should first focus.

## Props

<ArgsTable of={Modal} />
